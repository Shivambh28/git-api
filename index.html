<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no">

  <title>Search</title>

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/styles.css">
 
</head>
<body class="js">
  
  <div id="container">
    
    <div class="header">
      <div class="wrapper">
        
        <div class="logo">
          <object data="images/git-icon.svg" type="image/svg+xml"></object>
          <h1 >Git <span>Search</span></h1>
        </div><!-- end logo -->

        <form id="searchForm" >
           <input  id="search" type="text" placeholder="Search for a Repo" />
           <input type="submit" value="" id="submit">
           <div class="error">Please enter repo name</div>
        </form>

      </div><!-- end wrapper -->
    </div><!-- end header -->


    <div id="results-container"></div><!-- end results-container -->
    <div id="overlay-container"></div><!-- end overlay-container -->
  </div><!-- end container -->
 

  


  <script type="text/template" id="results-template">
    <h2>Showing results for: <strong class="blue"><%= searchVal %></strong></h2>
    <h3>Found <strong class="blue"><%= amount %></strong> matches.</h3>
    <table>
        <tr>
          <td><strong>Repository Name</strong></td>
          <td><strong>Author Username</strong></td>
          <td align="right"><strong>More Info</strong></td>
        </tr>
    
    <% _.each(results, function(results) { %>
        <tr>
          <td><%= results.name %></td>
          <td><%= results.username %></td>
          <td align="right"><a class="viewDeatails" href="<%= results.created %>">View Details</a></td>
        </tr> 
    <% }); %>
     </table> 
  </script>
  <script type="text/template" id="overlay-template">
    
    <table>
      <% $('.viewDeatails').on('click', function(e) {
             var id = $(this).attr('href');
             
        
      %>
      <% _.each(results, function(results) { %>
        <% if(results.created == id) { %>
          <tr>
            <td><%= results.name %></td>
            <td><%= results.username %></td>
            <td><%= results.language %></td>
            <td><%= results.url %></td>
            <td><%= results.description %></td>
            <td align="right"><a class="viewDeatails" href="<%= results.created %>">View Details</a></td>
          </tr> 
      <% e.preventDefault(); });  } }); %>
     </table> 
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"></script>
  <script src="js/app.js"></script>
</body>
</html>